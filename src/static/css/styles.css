*{margin:0;padding:0;box-sizing:border-box}
body{font-family:-apple-system,BlinkMacSystemFont,'Segoe UI',sans-serif;display:flex;height:100vh;overflow:hidden;background:#212121;color:#ececec}
.dark-theme{--bg:#212121;--bg2:#2f2f2f;--sidebar:#171717;--text:#ececec;--text2:#b4b4b4;--border:#4d4d4f;--accent:#19c37d;--accent-hover:#0fa968}
.sidebar{width:260px;background:var(--sidebar);display:flex;flex-direction:column;border-right:1px solid var(--border)}
.sidebar-header{padding:12px}
.new-chat{width:100%;padding:10px;background:transparent;border:1px solid var(--border);border-radius:8px;color:var(--text);cursor:pointer;font-size:14px;transition:.15s}
.new-chat:hover{background:var(--bg2)}
.sidebar-list{flex:1;overflow-y:auto;padding:8px}
.conv-item{padding:10px 12px;border-radius:8px;cursor:pointer;margin-bottom:2px;color:var(--text2);font-size:14px;transition:.15s}
.conv-item:hover,.conv-item.active{background:var(--bg2);color:var(--text)}
.sidebar-footer{padding:12px;border-top:1px solid var(--border)}
.user{display:flex;align-items:center;gap:10px}
.avatar{width:32px;height:32px;border-radius:50%;background:linear-gradient(135deg,var(--accent),#0d8c6d);display:flex;align-items:center;justify-content:center;font-size:14px;color:#fff}
.info{flex:1}
.name{font-size:14px;font-weight:500}
.status{display:flex;align-items:center;gap:6px;font-size:12px;color:var(--text2)}
.dot{width:8px;height:8px;border-radius:50%;background:gray}
.dot.on{background:var(--accent);box-shadow:0 0 6px var(--accent)}
.main{flex:1;display:flex;flex-direction:column}
.topbar{padding:12px 16px;border-bottom:1px solid var(--border);display:flex;align-items:center;gap:15px}
.toggle{width:36px;height:36px;border-radius:6px;background:transparent;border:none;color:var(--text);cursor:pointer;font-size:18px;display:none}
.toggle:hover{background:var(--bg2)}
#model{padding:8px 12px;background:var(--bg2);border:1px solid var(--border);border-radius:8px;color:var(--text);font-size:13px;cursor:pointer}
.chat{flex:1;overflow-y:auto;padding:24px 0}
.welcome{display:flex;flex-direction:column;align-items:center;justify-content:center;height:100%;text-align:center}
.welcome h1{font-size:40px;margin-bottom:8px}
.welcome p{color:var(--text2);font-size:18px}
.messages{max-width:800px;margin:0 auto;width:100%;padding:0 24px}
.message{padding:20px 0;margin-bottom:16px;line-height:1.7}
.message.user{background:var(--bg2);border-radius:16px;padding:20px}
.msg-header{display:flex;align-items:center;gap:12px;margin-bottom:12px;font-weight:600;font-size:14px}
.msg-icon{width:30px;height:30px;border-radius:6px;display:flex;align-items:center;justify-content:center;font-size:16px}
.message.user .msg-icon{background:linear-gradient(135deg,var(--accent),#0d8c6d);color:#fff}
.message.assistant .msg-icon{background:linear-gradient(135deg,#8b5cf6,#6366f1);color:#fff}
.msg-content{color:var(--text);white-space:pre-wrap;word-wrap:break-word;font-size:15px}
.msg-content code{background:#000;padding:2px 6px;border-radius:4px;font-family:monospace;font-size:13px;color:var(--accent)}
.msg-content pre{background:#000;padding:16px;border-radius:8px;overflow-x:auto;margin:12px 0;border:1px solid var(--border)}
.msg-content pre code{background:transparent;padding:0;color:var(--text)}
.typing{display:flex;gap:4px;padding:10px 0}
.typing div{width:8px;height:8px;border-radius:50%;background:var(--text2);animation:typing 1.4s infinite}
.typing div:nth-child(2){animation-delay:.2s}
.typing div:nth-child(3){animation-delay:.4s}
@keyframes typing{0%,60%,100%{opacity:.3;transform:translateY(0)}30%{opacity:1;transform:translateY(-4px)}}
.input-area{padding:16px 24px 24px}
.input-box{max-width:800px;margin:0 auto;display:flex;gap:8px;align-items:flex-end;background:var(--bg2);border:1px solid var(--border);border-radius:24px;padding:12px 16px;position:relative}
.attach,.voice{width:32px;height:32px;border-radius:8px;background:transparent;border:none;color:var(--text2);cursor:pointer;display:flex;align-items:center;justify-content:center;transition:.15s;flex-shrink:0}
.attach:hover,.voice:hover{background:var(--bg);color:var(--text)}
.voice.recording{color:#ef4444;animation:pulse 1s infinite}
@keyframes pulse{0%,100%{opacity:1}50%{opacity:.5}}
#input{flex:1;background:transparent;border:none;outline:none;color:var(--text);font-size:15px;resize:none;max-height:200px;font-family:inherit;line-height:1.5}
#input::placeholder{color:var(--text2)}
.send{width:32px;height:32px;border-radius:50%;background:var(--accent);border:none;color:#fff;cursor:pointer;display:flex;align-items:center;justify-content:center;transition:.15s;flex-shrink:0}
.send:hover:not(:disabled){background:var(--accent-hover)}
.send:disabled{opacity:.4;cursor:not-allowed}
.footer{text-align:center;margin-top:12px;font-size:12px;color:var(--text2)}
#files{display:flex;gap:8px;flex-wrap:wrap;padding:0 8px}
.file-tag{padding:6px 12px;background:var(--bg);border:1px solid var(--border);border-radius:12px;font-size:12px;display:flex;align-items:center;gap:6px}
.file-tag i{color:var(--accent)}
@media(max-width:768px){.sidebar{position:fixed;left:0;top:0;height:100%;z-index:100;transform:translateX(-100%);transition:.2s}.sidebar.active{transform:translateX(0)}.toggle{display:flex}}
::-webkit-scrollbar{width:8px;height:8px}
::-webkit-scrollbar-track{background:transparent}
::-webkit-scrollbar-thumb{background:var(--border);border-radius:4px}
::-webkit-scrollbar-thumb:hover{background:var(--text2)}
